<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epstein Network Topology - Complete Analysis</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0f;
            color: #e0e0e0;
            overflow-x: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #e94560;
        }
        
        .header h1 {
            color: #e94560;
            font-size: 2rem;
            margin-bottom: 5px;
        }
        
        .header p {
            color: #888;
            font-size: 0.9rem;
        }
        
        .container {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            height: calc(100vh - 80px);
        }
        
        .sidebar {
            background: #12121a;
            padding: 15px;
            overflow-y: auto;
            border-right: 1px solid #333;
        }
        
        .sidebar h3 {
            color: #e94560;
            margin-bottom: 15px;
            font-size: 1rem;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }
        
        .layer-toggle {
            display: flex;
            align-items: center;
            padding: 8px 10px;
            margin-bottom: 5px;
            background: #1a1a2e;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .layer-toggle:hover {
            background: #252540;
        }
        
        .layer-toggle input {
            margin-right: 10px;
        }
        
        .layer-toggle .color-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .network-container {
            position: relative;
            background: #0d0d14;
        }
        
        #network-graph {
            width: 100%;
            height: 100%;
        }
        
        .info-panel {
            background: #12121a;
            padding: 15px;
            overflow-y: auto;
            border-left: 1px solid #333;
        }
        
        .info-panel h3 {
            color: #e94560;
            margin-bottom: 15px;
            font-size: 1rem;
        }
        
        .stat-card {
            background: #1a1a2e;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .stat-card h4 {
            color: #4ecdc4;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        
        .stat-card .value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }
        
        .stat-card .label {
            color: #888;
            font-size: 0.8rem;
        }
        
        .prediction-item {
            background: #1a1a2e;
            padding: 12px;
            border-radius: 5px;
            margin-bottom: 8px;
            border-left: 3px solid #e94560;
        }
        
        .prediction-item .subject {
            font-weight: bold;
            color: #fff;
        }
        
        .prediction-item .probability {
            color: #4ecdc4;
            font-size: 0.9rem;
        }
        
        .edge-case {
            background: linear-gradient(135deg, #2d1b1b 0%, #1a1a2e 100%);
            padding: 12px;
            border-radius: 5px;
            margin-bottom: 8px;
            border: 1px solid #e94560;
        }
        
        .edge-case .alias {
            font-weight: bold;
            color: #e94560;
        }
        
        .edge-case .flights {
            color: #4ecdc4;
        }
        
        .tooltip {
            position: absolute;
            background: rgba(26, 26, 46, 0.95);
            border: 1px solid #e94560;
            border-radius: 8px;
            padding: 15px;
            pointer-events: none;
            max-width: 300px;
            z-index: 1000;
            display: none;
        }
        
        .tooltip h4 {
            color: #e94560;
            margin-bottom: 8px;
        }
        
        .tooltip p {
            color: #ccc;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .node {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .node:hover {
            filter: brightness(1.3);
        }
        
        .link {
            stroke-opacity: 0.6;
            transition: all 0.2s;
        }
        
        .link:hover {
            stroke-opacity: 1;
        }
        
        .legend {
            margin-top: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
            margin-right: 10px;
        }
        
        .controls {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
        }
        
        .control-btn {
            background: #1a1a2e;
            color: #fff;
            border: 1px solid #333;
            padding: 8px 15px;
            margin-right: 5px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.2s;
        }
        
        .control-btn:hover {
            background: #e94560;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üï∏Ô∏è EPSTEIN NETWORK TOPOLOGY - COMPLETE ANALYSIS</h1>
        <p>Multi-Layer Network with Cell Phone Metadata, Data Broker Integration & Predictive Modeling | Cycle 8</p>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <h3>üìä NETWORK LAYERS</h3>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-core" checked>
                <span class="color-dot" style="background: #e94560;"></span>
                <span>Core Criminal (8)</span>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-financial" checked>
                <span class="color-dot" style="background: #4ecdc4;"></span>
                <span>Financial (6)</span>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-political" checked>
                <span class="color-dot" style="background: #3498db;"></span>
                <span>Political (7)</span>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-social" checked>
                <span class="color-dot" style="background: #f39c12;"></span>
                <span>Social/Tech (8)</span>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-victim" checked>
                <span class="color-dot" style="background: #9b59b6;"></span>
                <span>Victim Network</span>
            </div>
            
            <h3 style="margin-top: 25px;">üî¥ EDGE CASES</h3>
            <div class="edge-case">
                <div class="alias">LV</div>
                <div class="flights">113 flights - UNRESOLVED</div>
                <div style="color: #888; font-size: 0.8rem;">Hypothesis: Staff or regular victim</div>
            </div>
            <div class="edge-case">
                <div class="alias">LM</div>
                <div class="flights">73 flights - UNRESOLVED</div>
                <div style="color: #888; font-size: 0.8rem;">Unknown identity</div>
            </div>
            <div class="edge-case">
                <div class="alias">BT</div>
                <div class="flights">59 flights - UNRESOLVED</div>
                <div style="color: #888; font-size: 0.8rem;">Unknown associate</div>
            </div>
            <div class="edge-case">
                <div class="alias">TD ‚Üí Ted Waitt</div>
                <div class="flights">47 flights - 70% probability</div>
                <div style="color: #888; font-size: 0.8rem;">Maxwell's boyfriend 2003-2010</div>
            </div>
            <div class="edge-case">
                <div class="alias">DB ‚Üí Doug Band</div>
                <div class="flights">25 flights - 75% probability</div>
                <div style="color: #888; font-size: 0.8rem;">Clinton aide</div>
            </div>
            
            <h3 style="margin-top: 25px;">üì± CDR PATTERNS</h3>
            <div style="font-size: 0.85rem; color: #888;">
                <p style="margin-bottom: 8px;">High-frequency pairs:</p>
                <p>‚Ä¢ Epstein ‚Üî Kellen: 200/mo</p>
                <p>‚Ä¢ Epstein ‚Üî Maxwell: 150/mo</p>
                <p>‚Ä¢ Maxwell ‚Üî Kellen: 120/mo</p>
                <p>‚Ä¢ Epstein ‚Üî Brunel: 40/mo</p>
                <p>‚Ä¢ Epstein ‚Üî Wexner: 25/mo</p>
                <p>‚Ä¢ Epstein ‚Üî Black: 15/mo</p>
            </div>
        </div>
        
        <div class="network-container">
            <div class="controls">
                <button class="control-btn" onclick="resetZoom()">Reset View</button>
                <button class="control-btn" onclick="highlightHidden()">Show Hidden Links</button>
            </div>
            <svg id="network-graph"></svg>
            <div class="tooltip" id="tooltip"></div>
        </div>
        
        <div class="info-panel">
            <h3>üìà NETWORK STATISTICS</h3>
            <div class="stat-card">
                <h4>Total Nodes</h4>
                <div class="value">29</div>
                <div class="label">Across 8 layers</div>
            </div>
            <div class="stat-card">
                <h4>Total Edges</h4>
                <div class="value">31</div>
                <div class="label">Documented connections</div>
            </div>
            <div class="stat-card">
                <h4>Connected Wealth</h4>
                <div class="value">$2.36T</div>
                <div class="label">Total network exposure</div>
            </div>
            <div class="stat-card">
                <h4>Estimated Victims</h4>
                <div class="value">1,658</div>
                <div class="label">vs 250 documented</div>
            </div>
            
            <h3 style="margin-top: 20px;">üîÆ PREDICTIONS</h3>
            <div class="prediction-item">
                <div class="subject">Black ‚Üî Maxwell</div>
                <div class="probability">75% hidden connection</div>
            </div>
            <div class="prediction-item">
                <div class="subject">Gates ‚Üî Maxwell</div>
                <div class="probability">70% introduction link</div>
            </div>
            <div class="prediction-item">
                <div class="subject">Wexner ‚Üî Intel</div>
                <div class="probability">55% reporting chain</div>
            </div>
            <div class="prediction-item">
                <div class="subject">Musk Island Visit</div>
                <div class="probability">35% occurred</div>
            </div>
            
            <h3 style="margin-top: 20px;">‚öñÔ∏è PROSECUTION</h3>
            <div class="stat-card">
                <h4>Conviction Rate</h4>
                <div class="value">11%</div>
                <div class="label">1 of 9 major subjects</div>
            </div>
            <div class="stat-card">
                <h4>P(Additional Convictions)</h4>
                <div class="value">20%</div>
                <div class="label">By 2030</div>
            </div>
            
            <h3 style="margin-top: 20px;">üß† L2L WEIGHTS</h3>
            <div style="font-size: 0.85rem;">
                <p style="margin-bottom: 5px; color: #4ecdc4;">Post-conviction activity: 1.00</p>
                <p style="margin-bottom: 5px; color: #4ecdc4;">Multi-source corroboration: 0.95</p>
                <p style="margin-bottom: 5px; color: #4ecdc4;">Financial anomaly: 0.90</p>
                <p style="margin-bottom: 5px; color: #4ecdc4;">Protection pattern: 0.85</p>
            </div>
        </div>
    </div>
    
    <script>
        // Network data
        const nodes = [
            // Core Criminal
            {id: "epstein", name: "Jeffrey Epstein", layer: "core", status: "DECEASED", size: 40, color: "#e94560"},
            {id: "maxwell", name: "Ghislaine Maxwell", layer: "core", status: "CONVICTED", size: 35, color: "#e94560"},
            {id: "kellen", name: "Sarah Kellen", layer: "core", status: "IMMUNITY", size: 25, color: "#e94560"},
            {id: "marcinkova", name: "Nadia Marcinkova", layer: "core", status: "NO_CHARGES", size: 22, color: "#e94560"},
            {id: "brunel", name: "Jean-Luc Brunel", layer: "core", status: "DECEASED", size: 22, color: "#e94560"},
            {id: "groff", name: "Lesley Groff", layer: "core", status: "IMMUNITY", size: 18, color: "#e94560"},
            {id: "ross", name: "Adriana Ross", layer: "core", status: "IMMUNITY", size: 16, color: "#e94560"},
            {id: "robson", name: "Haley Robson", layer: "core", status: "NO_CHARGES", size: 14, color: "#e94560"},
            
            // Financial
            {id: "wexner", name: "Leslie Wexner", layer: "financial", amount: "$153M", size: 30, color: "#4ecdc4"},
            {id: "black", name: "Leon Black", layer: "financial", amount: "$158M", size: 28, color: "#4ecdc4"},
            {id: "dubin", name: "Glenn Dubin", layer: "financial", size: 20, color: "#4ecdc4"},
            {id: "jpmorgan", name: "JPMorgan", layer: "financial", settlement: "$290M", size: 25, color: "#4ecdc4"},
            {id: "deutsche", name: "Deutsche Bank", layer: "financial", settlement: "$75M", size: 22, color: "#4ecdc4"},
            
            // Political
            {id: "clinton", name: "Bill Clinton", layer: "political", flights: 26, size: 28, color: "#3498db"},
            {id: "trump", name: "Donald Trump", layer: "political", flights: 1, size: 24, color: "#3498db"},
            {id: "andrew", name: "Prince Andrew", layer: "political", size: 28, color: "#8e44ad"},
            {id: "barak", name: "Ehud Barak", layer: "political", size: 20, color: "#3498db"},
            {id: "rfk", name: "RFK Jr.", layer: "political", size: 18, color: "#3498db"},
            
            // Social/Tech
            {id: "gates", name: "Bill Gates", layer: "social", meetings: 6, size: 24, color: "#f39c12"},
            {id: "musk", name: "Elon Musk", layer: "social", evidence: "2013 invite", size: 22, color: "#f39c12"},
            {id: "brin", name: "Sergey Brin", layer: "social", size: 18, color: "#f39c12"},
            {id: "dershowitz", name: "Alan Dershowitz", layer: "social", size: 22, color: "#f39c12"},
            {id: "spacey", name: "Kevin Spacey", layer: "social", size: 16, color: "#f39c12"},
            
            // Edge Cases (unresolved aliases)
            {id: "lv", name: "LV (113 flights)", layer: "edge", size: 20, color: "#c0392b"},
            {id: "lm", name: "LM (73 flights)", layer: "edge", size: 18, color: "#c0392b"},
            {id: "bt", name: "BT (59 flights)", layer: "edge", size: 16, color: "#c0392b"},
            {id: "victims", name: "Victims (~1,658)", layer: "victim", size: 35, color: "#9b59b6"}
        ];
        
        const links = [
            // Core network
            {source: "epstein", target: "maxwell", type: "COMMAND", weight: 1.0},
            {source: "maxwell", target: "kellen", type: "OPERATIONAL", weight: 0.95},
            {source: "maxwell", target: "marcinkova", type: "OPERATIONAL", weight: 0.9},
            {source: "epstein", target: "brunel", type: "RECRUITMENT", weight: 0.85},
            {source: "kellen", target: "groff", type: "COORDINATION", weight: 0.75},
            {source: "maxwell", target: "robson", type: "RECRUITMENT", weight: 0.6},
            
            // Financial
            {source: "wexner", target: "epstein", type: "FINANCIAL", weight: 0.95},
            {source: "black", target: "epstein", type: "FINANCIAL", weight: 0.8},
            {source: "epstein", target: "jpmorgan", type: "BANKING", weight: 0.75},
            {source: "epstein", target: "deutsche", type: "BANKING", weight: 0.7},
            {source: "epstein", target: "maxwell", type: "FINANCIAL", weight: 0.85},
            
            // Political
            {source: "maxwell", target: "clinton", type: "SOCIAL", weight: 0.75},
            {source: "epstein", target: "clinton", type: "FLIGHT", weight: 0.6},
            {source: "epstein", target: "andrew", type: "ACCUSATION", weight: 0.9},
            {source: "maxwell", target: "andrew", type: "SOCIAL", weight: 0.85},
            {source: "epstein", target: "trump", type: "SOCIAL", weight: 0.5},
            {source: "maxwell", target: "rfk", type: "CLAIM", weight: 0.5},
            
            // Social/Tech
            {source: "epstein", target: "gates", type: "MEETINGS", weight: 0.6},
            {source: "epstein", target: "musk", type: "INVITATION", weight: 0.4},
            {source: "maxwell", target: "brin", type: "SOCIAL", weight: 0.35},
            {source: "epstein", target: "dershowitz", type: "LEGAL", weight: 0.75},
            {source: "epstein", target: "spacey", type: "FLIGHT", weight: 0.55},
            
            // Edge cases
            {source: "kellen", target: "lv", type: "POSSIBLE", weight: 0.65, dashed: true},
            {source: "epstein", target: "lm", type: "UNKNOWN", weight: 0.5, dashed: true},
            {source: "epstein", target: "bt", type: "UNKNOWN", weight: 0.5, dashed: true},
            
            // Victim network
            {source: "maxwell", target: "victims", type: "RECRUITMENT", weight: 0.95},
            {source: "kellen", target: "victims", type: "SCHEDULING", weight: 0.9},
            {source: "brunel", target: "victims", type: "MC2", weight: 0.85},
            
            // Hidden (predicted) links
            {source: "black", target: "maxwell", type: "PREDICTED", weight: 0.75, hidden: true},
            {source: "gates", target: "maxwell", type: "PREDICTED", weight: 0.7, hidden: true}
        ];
        
        // Create SVG
        const svg = d3.select("#network-graph");
        const width = document.querySelector('.network-container').clientWidth;
        const height = document.querySelector('.network-container').clientHeight;
        
        svg.attr("width", width).attr("height", height);
        
        // Create zoom behavior
        const zoom = d3.zoom()
            .scaleExtent([0.3, 4])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });
        
        svg.call(zoom);
        
        const g = svg.append("g");
        
        // Create force simulation
        const simulation = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(d => 100 / d.weight))
            .force("charge", d3.forceManyBody().strength(-400))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collision", d3.forceCollide().radius(d => d.size + 10));
        
        // Create links
        const link = g.append("g")
            .selectAll("line")
            .data(links.filter(l => !l.hidden))
            .join("line")
            .attr("class", "link")
            .attr("stroke", d => d.dashed ? "#c0392b" : "#555")
            .attr("stroke-width", d => d.weight * 3)
            .attr("stroke-dasharray", d => d.dashed ? "5,5" : "none");
        
        // Hidden links (initially invisible)
        const hiddenLink = g.append("g")
            .selectAll("line")
            .data(links.filter(l => l.hidden))
            .join("line")
            .attr("class", "link hidden-link")
            .attr("stroke", "#e94560")
            .attr("stroke-width", 2)
            .attr("stroke-dasharray", "10,5")
            .attr("opacity", 0);
        
        // Create nodes
        const node = g.append("g")
            .selectAll("circle")
            .data(nodes)
            .join("circle")
            .attr("class", "node")
            .attr("r", d => d.size)
            .attr("fill", d => d.color)
            .attr("stroke", "#fff")
            .attr("stroke-width", 2)
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));
        
        // Create labels
        const label = g.append("g")
            .selectAll("text")
            .data(nodes)
            .join("text")
            .text(d => d.name)
            .attr("font-size", 10)
            .attr("fill", "#fff")
            .attr("text-anchor", "middle")
            .attr("dy", d => d.size + 15);
        
        // Tooltip
        const tooltip = document.getElementById("tooltip");
        
        node.on("mouseover", function(event, d) {
            let html = `<h4>${d.name}</h4>`;
            html += `<p><strong>Layer:</strong> ${d.layer}</p>`;
            if (d.status) html += `<p><strong>Status:</strong> ${d.status}</p>`;
            if (d.amount) html += `<p><strong>Amount:</strong> ${d.amount}</p>`;
            if (d.flights) html += `<p><strong>Flights:</strong> ${d.flights}</p>`;
            if (d.settlement) html += `<p><strong>Settlement:</strong> ${d.settlement}</p>`;
            if (d.meetings) html += `<p><strong>Meetings:</strong> ${d.meetings}</p>`;
            
            tooltip.innerHTML = html;
            tooltip.style.display = "block";
            tooltip.style.left = (event.pageX + 15) + "px";
            tooltip.style.top = (event.pageY - 10) + "px";
        })
        .on("mouseout", function() {
            tooltip.style.display = "none";
        });
        
        // Update positions
        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);
            
            hiddenLink
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);
            
            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);
            
            label
                .attr("x", d => d.x)
                .attr("y", d => d.y);
        });
        
        // Drag functions
        function dragstarted(event) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            event.subject.fx = event.subject.x;
            event.subject.fy = event.subject.y;
        }
        
        function dragged(event) {
            event.subject.fx = event.x;
            event.subject.fy = event.y;
        }
        
        function dragended(event) {
            if (!event.active) simulation.alphaTarget(0);
            event.subject.fx = null;
            event.subject.fy = null;
        }
        
        // Control functions
        function resetZoom() {
            svg.transition().duration(750).call(zoom.transform, d3.zoomIdentity);
        }
        
        let hiddenVisible = false;
        function highlightHidden() {
            hiddenVisible = !hiddenVisible;
            hiddenLink.transition().duration(500).attr("opacity", hiddenVisible ? 0.8 : 0);
        }
    </script>
</body>
</html>
